{% extends 'partials/base.html' %}

{% block title %}ADD DATA{% endblock %}

{% block content %}

<style>

    .f1{
        margin-left: 250px;
    }

    .text{
        font-size: 44px;
        color: rgba(58.58, 61.92, 142.02, 0.90);
        text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
    }

    .but1{
        border-color: rgba(58.58, 61.92, 142.02, 0.90);
        border-style: solid;
        border-width: 2px;
        background: none;
        font-size: 20px;
        font-weight: 600;
        color: black;
        margin-left: 460px;
    }

    .but1:hover{
        background: rgba(58.58, 61.92, 142.02, 0.90);
        color: white;
    }

</style>

<div class=" row justify-content-center container">
    <div class="col-md-12">
        <div class="border p-3 shadow ">
            <h2 class="text-center text">Add Data</h2>
            <hr>
            <div class="form-group f1">
                <form method="POST">
                    {% csrf_token %}
                    {{ form }}
                </form>
            </div>
            <hr>
            <input class="btn but1" type="submit" value="Add">
        </div>

    </div>

    <div class="col-md-8 my-4">
        <div class="bg-white">
            <div class="card-body">
                <canvas id="myChart" width="400" height="300"></canvas>
                <script>
                    var ctx = document.getElementById('myChart').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: [{% for data in data %} '{{ data.country }}', {% endfor %}],
                            datasets: [{
                                label: '# of Populations',
                                data: [{% for data in data %} {{ data.population }}, {% endfor %}],
                                backgroundColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });
                </script>
            </div>
        </div>
    </div>
</div>

{% endblock %}